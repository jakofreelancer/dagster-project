# Use Python 3.11 slim image as base\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONUNBUFFERED=1 \n    PYTHONDONTWRITEBYTECODE=1 \n    PIP_NO_CACHE_DIR=1 \n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \n    gcc \n    curl \n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements first to leverage Docker cache\nCOPY requirements.txt .\n\n# Install Python dependencies\nRUN pip install --upgrade pip && pip install -r requirements.txt\n\n# Copy project files\nCOPY . .\n\n# Make entrypoint script executable\nRUN chmod +x entrypoint.sh\n\n# Create non-root user for security\nRUN adduser --disabled-password --gecos '' appuser && \n    chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port for Dagster webserver\nEXPOSE 3000\n\n# Set entrypoint\nENTRYPOINT [\"./entrypoint.sh\"]\n\n# Default command to run Dagster dev\nCMD [\"dagster\", \"dev\", \"-h\", \"0.0.0.0\", \"-p\", \"3000\"]